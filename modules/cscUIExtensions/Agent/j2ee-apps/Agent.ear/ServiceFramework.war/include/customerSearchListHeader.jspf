<%-- Header for the task list in the "Tasks" panel.  Includes paging, filtering.--%>

<dspel:layeredBundle basename="atg.svc.agent.WebAppResources">
  <dspel:importbean scope="request"
                    var="customerSearchFormHandler"
                    bean="/atg/svc/ui/formhandlers/CustomerSearchFormHandler" />

<c:catch var="headerError">
  <table border="0" cellpadding="0" cellspacing="0" class="w100p">
    <tr class="pad5">
      <td>
        <%@ include file="/include/navigate.jsp" %>
      </td>
      <td> &nbsp;</td>
      <td class="right">
        <dspel:form action="#" id="customerSearchFilterForm" formid="customerSearchFilterForm">
          <dspel:input type="hidden" priority="-10" value="" bean="/atg/svc/ui/formhandlers/CustomerSearchFormHandler.filter"/>
          <dspel:input type="hidden" name="sortDirection" value="ascending" bean="/atg/svc/ui/formhandlers/CustomerSearchFormHandler.sortDirection"/>
          <dspel:input type="hidden" name="operation" value="refresh" bean="/atg/svc/ui/formhandlers/CustomerSearchFormHandler.operation"/>
          <dspel:input type="hidden" name="treeTableId" value="customerSearchResultsTable" bean="/atg/svc/ui/formhandlers/CustomerSearchFormHandler.treeTableId"/>
          <dspel:input type="hidden" name="parameters" value="" bean="/atg/svc/ui/formhandlers/CustomerSearchFormHandler.parameters"/>
          <dspel:input type="hidden" name="state" value="" bean="/atg/svc/ui/formhandlers/CustomerSearchFormHandler.state"/>
          Sort by:&nbsp;
          <dspel:select name="sortField" bean="/atg/svc/ui/formhandlers/CustomerSearchFormHandler.sortField">
            <dspel:option value='lastName'>Last Name</dspel:option>
            <dspel:option value='firstName'>First Name</dspel:option>
            <dspel:option value='email'>Email</dspel:option>
            <dspel:option value='login'>Login Name</dspel:option>
          </dspel:select>
          <a href="#"
            onclick="customerFilterSearch(); return false;"
            class="buttonSmall go"
            title="Sort">
            <span>Sort</span>
          </a>
        </dspel:form> <%-- End of customerSearchForm --%>
      </td>
    </tr>
  </table>
<br/>
</c:catch>
<c:if test = "${not empty headerError}">
  An error occurred <c:out value="${headerError.message}"/><br>
  Error is of type <c:out value="${headerError['class']}"/><br>
  Stacktrace: <br>
<pre>
<%
  Throwable t = (Throwable)pageContext.getAttribute("headerError");
   t.printStackTrace(new java.io.PrintWriter(out));
%>
</pre>
</c:if>
</dspel:layeredBundle>
<%-- @version $Id: //application/service-UI/version/11.2/framework/Agent/src/web-apps/ServiceFramework/include/customerSearchListHeader.jspf#1 $$Change: 946917 $--%>
